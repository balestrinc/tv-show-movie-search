{"version":3,"sources":["assets/images/logo.svg","TvShowSearch/Home/Home.jsx","TvShowSearch/TvSearch/PhraseInput/PhraseInput.jsx","services/DefaultImage.js","services/converters/mapToShowItem.js","services/converters/mapToShowCreator.js","services/converters/mapToDetailedShow.js","TvShowSearch/TvSearch/MatchingTvShows/MatchingTvShows.jsx","TvShowSearch/TvSearch/SearchFailure/SearchFailure.jsx","TvShowSearch/TvSearch/Loading/Loading.jsx","TvShowSearch/TvSearch/ShowDetails/ShowSeason.jsx","TvShowSearch/TvSearch/ShowDetails/ShowDetails.jsx","TvShowSearch/TvSearch/TvSearch.jsx","services/TvShowService.js","App.js","index.js"],"names":["module","exports","to","className","id","src","logo","alt","PhraseInput","this","inputRef","focus","props","phrase","onPhraseChange","onSearchClick","ref","input","placeholder","value","onChange","event","target","onClick","React","Component","show","title","name","images","medium","image","DefaultImage","original","duration","runtime","schedule","status","showType","type","genres","showCrew","crewCreator","find","crewMember","person","showItem","mapToShowItem","cast","_embedded","map","castEntry","seasons","episodes","forEach","episode","item","season","seasonEpisodes","filter","number","push","tvShows","onMatchingTvShowClick","selectedTvShowId","length","selected","key","classNames","days","join","time","genreName","createdBy","ShowSeason","TvShowService","httpClient","axios","service","fetchTvShows","get","then","res","data","fetchTvShowDetails","showId","Promise","all","fetchShow","fetShowCreator","result","mapToDetailedShow","mapToShowCreator","ShowService","useState","phase","setPhase","isLoading","setIsloading","hasFailedToSearch","setHasFailedToSearch","setTvShows","setSelectedTvShowId","setShow","Fragment","newValue","catch","finally","selectedShow","App","exact","path","component","Home","TvSearch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6fe83ecc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ac23d307.svg\";","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport logo from './../../assets/images/logo.svg';\nimport './Home.css';\n\n\nexport default () => (\n  <Link to=\"/search\" className=\"searchLink\">\n    <header id=\"homeHeader\" className=\"homeHeader\">\n      <img src={logo} className=\"appLogo\" alt=\"logo\" />\n      TV Show Search\n    </header>\n  </Link>\n);\n","import React from \"react\";\n\nimport \"./PhraseInput.css\";\n\nclass PhraseInput extends React.Component {\n  componentDidMount() {\n    this.inputRef.focus();\n  }\n\n  render() {\n    const { phrase, onPhraseChange, onSearchClick } = this.props;\n    return (\n      <div>\n        <input\n          className=\"phraseInput\"\n          ref={(input) => { this.inputRef = input; }}\n          placeholder=\"To search shows, type its nameâ€¦\"\n          value={phrase}\n          onChange={event => onPhraseChange(event.target.value)}\n          id=\"phraseInput\"\n        />\n        <button\n          className=\"buttonSearch\"\n          onClick={() => onSearchClick()}\n          id=\"buttonSearch\">\n          Search\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default PhraseInput;\n","export default \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n","import DefaultImage from \"./../DefaultImage\";\n\nexport default (show) => {\n    return {\n        id: show.id,\n        title: show.name,\n        images: {\n            medium: show.image && show.image.medium ? show.image.medium : DefaultImage,\n            original: show.image && show.image.original ? show.image.original : DefaultImage,\n        },\n        duration: show.runtime,\n        schedule: show.schedule,\n        status: show.status,\n        showType: show.type,\n        genres: show.genres\n    }\n}\n","const CREW_CREATOR = \"Creator\";\n\nexport default (showCrew) => {\n    const crewCreator = showCrew.find((crewMember) => crewMember.type === CREW_CREATOR);\n    return crewCreator ? crewCreator.person.name: \"\";\n}\n","import mapToShowItem from \"./mapToShowItem\";\n\nexport default (show) => {\n    let showItem = mapToShowItem(show);\n    const cast = show._embedded.cast.map((castEntry) => castEntry.person.name);\n\n    const seasons = [];\n    const episodes = show._embedded.episodes;\n    episodes.forEach(episode => {\n        const isSeasonMapped = seasons.find(item => item.season === episode.season);\n        if (!isSeasonMapped) {\n            const seasonEpisodes = episodes\n            .filter(item => item.season === episode.season)\n            .map(episode => {\n                return {\n                    id: episode.id,\n                    name: episode.name,\n                    number: episode.number\n                }\n            })\n            seasons.push({ season: episode.season, episodes: seasonEpisodes});\n        }\n    });\n\n\n    return { ...showItem, cast, seasons };\n}\n","import React from \"react\";\nimport \"./MatchingTvShows.css\";\nimport classNames from \"classnames\";\n\nexport default ({ tvShows, onMatchingTvShowClick, selectedTvShowId }) => {\n  if (!tvShows || tvShows.length === 0) {\n    return (null);\n  }\n\n  return (\n    <ul\n      className=\"matchingTvShows\"\n    >\n      {tvShows.map((item) => {\n        const selected = selectedTvShowId === item.id;\n        return (\n          <li\n            key={item.id}\n            onClick={() => onMatchingTvShowClick(item)}\n            id={`matchingTvShow_${item.id}`}\n            className={classNames(\n              \"matchingTvShow\",\n              {\n                \"matchingTvShowSelected\": selected,\n              })}\n          >\n            <img\n              src={item.images.medium}\n              alt={`${item.title} poster`}\n              className=\"matchingTvShowImage\"\n            />\n            {item.title}\n          </li>\n        )\n      })}\n    </ul>\n  );\n};\n","import React from \"react\";\nimport \"./SearchFailure.css\";\n\nexport default () => (\n  <div className=\"searchTvShowsFailure\">\n    Failed to fetch Matching Tv Shows!\n  </div>\n);\n","import React from \"react\";\nimport \"./Loading.css\";\n\nexport default () => (\n  <div className=\"loadingEllipsis\">\n    <div></div>\n    <div></div>\n    <div></div>\n    <div></div>\n  </div>\n);\n","import React from \"react\";\n\nexport default ({ season }) => {\n    if (!season) return (null);\n\n    return (\n        <dl>\n            <dt key={season}>{\"Season \" + season.season}</dt>\n            {season.episodes.map((episode) => {\n                return (<dd key={episode.id}>{`${episode.number}. ${episode.name}`}</dd>);\n            })}\n        </dl>\n    );\n}","import React from \"react\";\nimport \"./ShowDetails.css\";\nimport ShowSeason from \"./ShowSeason\";\n\nexport default ({ show }) => {\n  if (!show) {\n    return (null);\n  }\n\n  const cast = show.cast ? show.cast : [];\n  const seasons = show.seasons ? show.seasons : [];\n\n  return (\n    <div className=\"showDetails\" id=\"showDetails\">\n      <div className=\"showImageContainer\">\n        <img\n          src={show.images.original}\n          alt={`${show.title} poster`}\n          className=\"showImage\"\n        />\n     </div>\n      <div className=\"showDetailsContent\">\n        <h2>{show.title}</h2>\n        <dl>\n          <dt>Duration:</dt>\n          <dd>{show.duration}</dd>\n          <dt>Schedule:</dt>\n          <dd>{`${show.schedule.days.join(\",\")} at ${show.schedule.time}`}</dd>\n          <dt>Status:</dt>\n          <dd>{show.status}</dd>\n          <dt>Type:</dt>\n          <dd>{show.showType}</dd>\n          <dt>Genres:</dt>\n          {show.genres.map((genreName) => (<dd key={genreName}>{genreName}</dd>))}\n          <dd>{show.genres}</dd>\n          <dt>Created By:</dt>\n          <dd>{show.createdBy}</dd>\n          <dt>Cast:</dt>\n          {cast.map((name) => (<dd key={name}>{name}</dd>))}\n        </dl>\n        <div>\n          <h3>Seasons</h3>\n          {seasons.map((season) => <ShowSeason key={season.season} season={season} />)}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport PhraseInput from \"./PhraseInput/PhraseInput\";\nimport ShowService from \"./../../services/TvShowService\";\nimport MatchingTvShows from \"./MatchingTvShows/MatchingTvShows\";\nimport SearchFailure from \"./SearchFailure/SearchFailure\";\nimport Loading from \"./Loading/Loading\";\nimport ShowDetails from \"./ShowDetails/ShowDetails\";\n\nexport default ({ TvShowService = ShowService() }) => {\n  const [phase, setPhase] = useState('');\n  const [isLoading, setIsloading] = useState(false);\n  const [hasFailedToSearch, setHasFailedToSearch] = useState(false);\n  const [tvShows, setTvShows] = useState([]);\n  const [selectedTvShowId, setSelectedTvShowId] = useState(null);\n  const [show, setShow] = useState(null);\n\n  const onPhraseChange = (newValue) => setPhase(newValue);\n\n  const onSearchClick = () => {\n    setIsloading(true);\n    setHasFailedToSearch(false)\n    TvShowService.fetchTvShows(phase)\n      .then(setTvShows)\n      .catch(() => {\n        setTvShows([]);\n        setHasFailedToSearch(true);\n      })\n      .finally(() => {\n        setIsloading(false);\n      });\n  };\n\n  const onMatchingTvShowClick = (selectedShow) => {\n    setSelectedTvShowId(selectedShow.id);\n    setShow(selectedShow);\n    TvShowService.fetchTvShowDetails(selectedShow.id).then(setShow);\n  };\n\n  return (\n    <React.Fragment>\n      <h1>Search Tv Shows and Movies</h1>\n      <PhraseInput phase={phase} onPhraseChange={onPhraseChange} onSearchClick={onSearchClick} />\n      {isLoading && (<Loading />)}\n      <MatchingTvShows tvShows={tvShows} onMatchingTvShowClick={onMatchingTvShowClick} selectedTvShowId={selectedTvShowId} />\n      {hasFailedToSearch && (<SearchFailure />)}\n      <ShowDetails show={show}/>\n    </React.Fragment>\n  );\n};\n","import axios from \"axios\";\nimport mapToShowItem from \"./converters/mapToShowItem\";\nimport mapToShowCreator from \"./converters/mapToShowCreator\";\nimport mapToDetailedShow from \"./converters/mapToDetailedShow\";\n\n\nexport default ({ httpClient } = { httpClient: axios }) => {\n  const service = {\n    fetchTvShows: phrase =>\n      httpClient\n        .get(\n          `http://api.tvmaze.com/search/shows?q=${phrase}`\n        )\n        .then(res => res.data.map(item => mapToShowItem(item.show))),\n    \n    fetchTvShowDetails: (showId) => {\n      return Promise.all([service.fetchShow(showId), service.fetShowCreator(showId)])\n      .then((result) => {\n        return {...result[0], createdBy: result[1]};\n      });\n    },\n\n    fetchShow: (showId) =>\n      httpClient\n        .get(\n          `https://api.tvmaze.com/shows/${showId}?embed[]=episodes&embed[]=cast`\n        )\n        .then(res => mapToDetailedShow(res.data)),\n        \n    fetShowCreator: (showId) =>\n      httpClient\n        .get(\n          `https://api.tvmaze.com/shows/${showId}/crew`\n        )\n        .then(res => mapToShowCreator(res.data)),\n  }\n  return service;\n}\n","import 'regenerator-runtime/runtime';\nimport React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport \"./App.css\";\n\nimport Home from './TvShowSearch/Home/Home';\nimport TvSearch from './TvShowSearch/TvSearch/TvSearch';\n\nconst App = () => {\n  return (\n    <div className=\"app\">\n      <Router>\n        <Route exact path=\"/\" component={Home}/>\n        <Route path=\"/search\" component={TvSearch} />\n      </Router>\n    </div>\n  )\n}\n\nexport default App;\n","import \"normalize.css/normalize.css\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}